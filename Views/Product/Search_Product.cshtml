@model List<Website_BDS.Models.Product>
@{
    Layout = "~/Views/Shared/_LayoutPageHome.cshtml";
    ViewBag.Title = "Tìm kiếm sản phẩm";
}

<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>@ViewBag.Title</title>
    <link rel="stylesheet" href="~/Font-end/asset/base.css" />
    <link rel="stylesheet" href="~/Font-end/asset/style.css" />
    <link rel="stylesheet" href="~/Font-end/CSS/style-Search_Products.css" />

    <script defer src="~/Scripts/Scripts-fontend/Script-Search_Products.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script defer src="~/Scripts/Scripts-fontend/API-Address-Selector.js"></script>
</head>
<body>
        
    <!-- Main content -->
    <div class="container">
        <!-- Icon bars -->
        <img src="~/Font-end/asset/icon/bars-solid-full.svg" alt="bars" height="40px" id="toggleFilter" style="cursor: pointer;" />

        <!-- Bộ lọc -->
        <div class="filter-panel" id="filterPanel">
            <h3>Bộ lọc</h3>
            <form method="get" action="@Url.Action("Search_Product", "Product")">
                <select id="city" name="City">
                    <option value="">-- Chọn Tỉnh/Thành phố --</option>
                </select>
                <select id="district" name="district">
                    <option value="">-- Chọn Quận/Huyện --</option>
                </select>
                <select id="ward" name="ward">
                    <option value="">-- Chọn Phường/Xã --</option>
                </select>

                <select name="price"><option value="">-- Giá cả --</option></select>
                <select name="area"><option value="">-- Diện tích --</option></select>
                <select name="amenities"><option value="">-- Tiện ích khác --</option></select>

                <button type="submit" class="filter-btn">Tìm kiếm</button>
            </form>
        </div>

        <!-- Danh sách sản phẩm -->
        <div class="product-list">
            <div style="font-weight: 700">🕓Bất động sản mới nhất</div>
            @if (Model != null && Model.Any())
            {
                foreach (var item in Model)
                {
                    <div class="product-card">
                        <div class="product-image">
                            <img src="~/Font-end/asset/icon/Product_Null.jpg"
                             alt="Avatar"
                             style="width:100px; height:100px; border-radius:50%; object-fit:cover;" />
                                 
                                 
                        </div>
                        <span class="badge">NEW PROJECT</span>
                        <h4>@item.Title</h4>
                        <p>Địa chỉ: @item.Address</p>
                        <p>Giá: @item.Price VNĐ</p>
                        <div class="card-buttons">
                            <a href="@Url.Action("Details", "Products", new { id = item.ProductID })" class="view-btn">Xem tin</a>
                            <button class="save-btn">Lưu tin</button>
                        </div>
                    </div>
                }

            }
            else
            {
                <p>Hiện chưa có dự án nào được đăng tải.</p>

            }
            <div style="font-weight: 700">Bất động sản theo tỉnh thành</div>
            @if (Model != null && Model.Any())
            {
                foreach (var item in Model)
                {
                    <div class="product-card">
                        <div class="product-image">
                           <img src="~/Font-end/asset/icon/Product_Null.jpg"
                                alt="Avatar"
                                style="width:100px; height:100px; border-radius:50%; object-fit:cover;" />
                        </div>
                        <span class="badge">NEW PROJECT</span>
                        <h4>@item.Title</h4>
                        <p>Địa chỉ: @item.Address</p>
                        <p>Giá: @item.Price VNĐ</p>
                        <div class="card-buttons">
                            <a href="@Url.Action("Details", "Products", new { id = item.ProductID })" class="view-btn">Xem tin</a>
                            <button class="save-btn">Lưu tin</button>
                        </div>
                    </div>
                }

            }
            else
            {
                <p>Hiện chưa có dự án nào được đăng tải.</p>

            }
            <div style="font-weight: 700">⭐Phần Quy Hoạch</div>
        </div>
    </div>
    
</body>
</html>
