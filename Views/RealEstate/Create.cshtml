@model Website_BDS.Models.Product

@{
    ViewBag.Title = "Đăng tin mới";
    Layout = "~/Views/Shared/_LayoutPageHome.cshtml";
}

<link rel="stylesheet" href="~/Font-end/CSS/RealEstate.css" />
<script defer src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script defer src="~/Scripts/Scripts-fontend/API-Address-Selector.js"></script>

<div class="listing-form">
    <h2>Tạo tin đăng</h2>

    @if (!ViewData.ModelState.IsValid)
    {
        <div style="background-color: #ffebee; border-left: 4px solid #c62828; padding: 12px; margin-bottom: 20px; border-radius: 4px;">
            <h4 style="color: #c62828; margin-top: 0;">Vui lòng kiểm tra lại thông tin:</h4>
            @Html.ValidationSummary(false, "", new { @style = "color: #c62828; margin: 0; padding-left: 20px;" })
        </div>
    }

    @using (Html.BeginForm("Create", "RealEstate", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        @Html.AntiForgeryToken()

        <div class="form-group">
            <label for="Title">Tiêu đề tin đăng:</label>
            @Html.TextBoxFor(m => m.Title, new { @class = "form-control", placeholder = "Ví dụ: Bán nhà mặt phố...", required = "required" })
        </div>

        <div class="form-group">
            <label>Loại giao dịch:</label>
            <div style="display:flex; gap:20px; align-items:center;">
                <label style="font-weight:normal; cursor:pointer;">
                    @Html.RadioButtonFor(m => m.ListingType, "Sale", new { @checked = "checked" }) Bán
                </label>
                <label style="font-weight:normal; cursor:pointer;">
                    @Html.RadioButtonFor(m => m.ListingType, "Rent") Cho thuê
                </label>
            </div>
        </div>

        <div class="form-group">
            <label>Loại hình bất động sản:</label>
            <select name="Type" class="form-control" required>
                <option value="">-- Chọn loại hình --</option>
                <option value="Căn hộ">Căn hộ chung cư</option>
                <option value="Nhà phố">Nhà phố</option>
                <option value="Đất nền">Đất nền</option>
                <option value="Biệt thự">Biệt thự</option>
            </select>
        </div>

        <div style="display:flex; gap:20px;">
            <div class="form-group" style="flex:1;">
                <label>Diện tích (m²):</label>
                @Html.TextBoxFor(m => m.Area, new { @type = "number", @step = "0.01", @class = "form-control", placeholder = "Nhập diện tích" })
            </div>
            <div class="form-group" style="flex:1;">
                <label>Báo giá (VNĐ):</label>
                @Html.TextBoxFor(m => m.Price, new { @type = "number", @class = "form-control", placeholder = "Nhập giá bán" })
            </div>
        </div>

        <div style="display:flex; gap:20px;">
            <div class="form-group" style="flex:1;">
                <label>Số phòng ngủ:</label>
                @Html.TextBoxFor(m => m.Bedrooms, new { @type = "number", @min = "0", @class = "form-control" })
            </div>
            <div class="form-group" style="flex:1;">
                <label>Số phòng tắm:</label>
                @Html.TextBoxFor(m => m.Bathrooms, new { @type = "number", @min = "0", @class = "form-control" })
            </div>
        </div>

        <div class="form-group">
            <label>Khu vực:</label>
            <div class="address-select" style="display:flex; gap:10px;">
                <select id="city" name="City" class="form-control" style="flex:1;"><option value="">Tỉnh/Thành</option></select>
                <select id="district" name="District" class="form-control" style="flex:1;"><option value="">Quận/Huyện</option></select>
                <select id="ward" name="Ward" class="form-control" style="flex:1;"><option value="">Phường/Xã</option></select>
            </div>
        </div>

        <div class="form-group">
            <label>Địa chỉ chi tiết:</label>
            @Html.TextBoxFor(m => m.Address, new { @class = "form-control", placeholder = "Số nhà, tên đường..." })
        </div>

        <div class="form-group">
            <label>Mô tả chi tiết:</label>
            @Html.TextAreaFor(m => m.Description, new { @class = "form-control", @rows = "5", placeholder = "Mô tả chi tiết về bất động sản..." })
        </div>

        <div class="form-group">
            <label>Tải ảnh sản phẩm:</label>
            <input type="file" name="uploadImage" class="form-control" accept="image/*" required />
        </div>

        <div class="form-group" style="margin-top:30px;">
            <button type="submit" class="submit-btn" style="width:100%; padding:12px; background:#d32f2f; color:white; border:none; border-radius:5px; font-size:16px; font-weight:bold; cursor:pointer;">
                Đăng tin ngay
            </button>
        </div>
    }
</div>